{
  "triggers": [
    {
      "id": "price_changed",
      "title": {
        "en": "Price changed"
      },
      "tokens": [
        {
          "name": "total",
          "type": "number",
          "title": {
            "en": "total"
          }
        },
        {
          "name": "energy",
          "type": "number",
          "title": {
            "en": "energy"
          }
        },
        {
          "name": "tax",
          "type": "number",
          "title": {
            "en": "tax"
          }
        },
        {
          "name": "level",
          "type": "string",
          "title": {
            "en": "level"
          }
        }
      ]
    },
    {
      "id": "temperature_changed",
      "title": {
        "en": "Temperature changed"
      },
      "tokens": [
        {
          "name": "temperature",
          "type": "number",
          "title": {
            "en": "Temperature"
          }
        }
      ]
    },
    {
      "id": "price_below_avg",
      "title": {
        "en": "Current price is [x] percent below average of the next [y] hours"
      },
      "args": [
        {
          "name": "percentage",
          "type": "number",
          "placeholder": {
            "en": "percentage"
          }
        },
        {
          "name": "hours",
          "type": "number",
          "placeholder": {
            "en": "hours"
          }
        }
      ]
    },
    {
      "id": "price_above_avg",
      "title": {
        "en": "Current price is [x] percent above average of the next [y] hours"
      },
      "args": [
        {
          "name": "percentage",
          "type": "number",
          "placeholder": {
            "en": "percentage"
          }
        },
        {
          "name": "hours",
          "type": "number",
          "placeholder": {
            "en": "hours"
          }
        }
      ]
    },
    {
      "id": "price_below_avg_today",
      "title": {
        "en": "Current price is [x] percent below today's average"
      },
      "args": [
        {
          "name": "percentage",
          "type": "number",
          "placeholder": {
            "en": "percentage"
          }
        }
      ]
    },
    {
      "id": "price_above_avg_today",
      "title": {
        "en": "Current price is [x] percent above today's average"
      },
      "args": [
        {
          "name": "percentage",
          "type": "number",
          "placeholder": {
            "en": "percentage"
          }
        }
      ]
    },
    {
      "id": "price_at_lowest",
      "title": {
        "en": "Current price is at the lowest among the next [x] hours"
      },
      "args": [
        {
          "name": "hours",
          "type": "number",
          "placeholder": {
            "en": "hours"
          }
        }
      ]
    },
    {
      "id": "price_at_highest",
      "title": {
        "en": "Current price is at the highest among the next [x] hours"
      },
      "args": [
        {
          "name": "hours",
          "type": "number",
          "placeholder": {
            "en": "hours"
          }
        }
      ]
    },
    {
      "id": "price_at_lowest_today",
      "title": {
        "en": "Current price is at today's lowest"
      }
    },
    {
      "id": "price_at_highest_today",
      "title": {
        "en": "Current price is at today's highest"
      }
    },
    {
      "id": "price_among_lowest_today",
      "title": {
        "en": "Current price is one of todays lowest [x] prices"
      },
      "args": [
        {
          "name": "ranked_hours",
          "type": "number",
          "placeholder": {
            "en": "hours"
          }
        }
      ]
    },
    {
      "id": "price_among_highest_today",
      "title": {
        "en": "Current price is one of todays highest [x] prices"
      },
      "args": [
        {
          "name": "ranked_hours",
          "type": "number",
          "placeholder": {
            "en": "hours"
          }
        }
      ]
    },
    {
        "id": "consumption_report",
        "title": {
            "en": "Consumption report"
        },
        "tokens": [{
                "name": "consumption",
                "type": "number",
                "title": {
                    "en": "consumption"
                }
            }, {
                "name": "totalCost",
                "type": "number",
                "title": {
                    "en": "cost"
                }
            }
        ]
    }
  ],
  "conditions": [
    {
      "id": "current_price_below",
      "title": {
        "en": "Current price !{{below|above}}"
      },
      "args": [
        {
          "name": "price",
          "type": "number",
          "placeholder": {
            "en": "price"
          }
        }
      ]
    },
    {
      "id": "temperature_below",
      "title": {
        "en": "Outdoor temperature !{{below|above}}"
      },
      "args": [
        {
          "name": "temperature",
          "type": "number",
          "placeholder": {
            "en": "temperature"
          }
        }
      ]
    },
    {
      "id": "cond_price_below_avg",
      "title": {
        "en": "Current price !{{is|isn't}} [x] percent below average of the next [y] hours"
      },
      "args": [
        {
          "name": "percentage",
          "type": "number",
          "placeholder": {
            "en": "percentage"
          }
        },
        {
          "name": "hours",
          "type": "number",
          "placeholder": {
            "en": "hours"
          }
        }
      ]
    },
    {
      "id": "cond_price_above_avg",
      "title": {
        "en": "Current price !{{is|isn't}} [x] percent above average of the next [y] hours"
      },
      "args": [
        {
          "name": "percentage",
          "type": "number",
          "placeholder": {
            "en": "percentage"
          }
        },
        {
          "name": "hours",
          "type": "number",
          "placeholder": {
            "en": "hours"
          }
        }
      ]
    },
    {
      "id": "cond_price_below_avg_today",
      "title": {
        "en": "Current price !{{is|isn't}} [x] percent below today's average"
      },
      "args": [
        {
          "name": "percentage",
          "type": "number",
          "placeholder": {
            "en": "percentage"
          }
        }
      ]
    },
    {
      "id": "cond_price_above_avg_today",
      "title": {
        "en": "Current price !{{is|isn't}} [x] percent above today's average"
      },
      "args": [
        {
          "name": "percentage",
          "type": "number",
          "placeholder": {
            "en": "percentage"
          }
        }
      ]
    },
    {
      "id": "cond_price_at_lowest",
      "title": {
        "en": "Current price !{{is|isn't}} at the lowest among the next [x] hours"
      },
      "args": [
        {
          "name": "hours",
          "type": "number",
          "placeholder": {
            "en": "hours"
          }
        }
      ]
    },
    {
      "id": "cond_price_at_highest",
      "title": {
        "en": "Current price !{{is|isn't}} at the highest among the next [x] hours"
      },
      "args": [
        {
          "name": "hours",
          "type": "number",
          "placeholder": {
            "en": "hours"
          }
        }
      ]
    },
    {
      "id": "cond_price_at_lowest_today",
      "title": {
        "en": "Current price !{{is|isn't}} at today's lowest"
      }
    },
    {
      "id": "cond_price_at_highest_today",
      "title": {
        "en": "Current price !{{is|isn't}} at today's highest"
      }
    },
    {
      "id": "cond_price_among_lowest_today",
      "title": {
        "en": "Current price !{{is|isn't}} one of todays lowest [x] prices"
      },
      "args": [
        {
          "name": "ranked_hours",
          "type": "number",
          "placeholder": {
            "en": "hours"
          }
        }
      ]
    },
    {
      "id": "cond_price_among_highest_today",
      "title": {
        "en": "Current price !{{is|isn't}} one of todays highest [x] prices"
      },
      "args": [
        {
          "name": "ranked_hours",
          "type": "number",
          "placeholder": {
            "en": "hours"
          }
        }
      ]
    }
  ],
  "actions": [
    {
      "id": "sendPushNotification",
      "title": {
        "en": "Send Tibber push notification"
      },
      "args": [
        {
          "name": "title",
          "type": "text"
        },
        {
          "name": "message",
          "type": "text"
        }
      ]
    }
  ]
}
